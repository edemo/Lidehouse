<template name="User_delegations">
  <div class="content-scrollable page-content">

    {{#Collapse_section id='from-me' title='Delegations from me' }}
      <div class="white-box">
      <!-- some instruction for the users -->
      <div class="row margined-row">
        <div class="col-xs-12 left-padded text-center">
          <p>{{_ 'delegationsFromMeInstructions'}}
          {{_ 'delegationsFromMeInstructions2'}}</p>
        </div>
      </div>
      <br>
      {{> ReactiveDatatable tableData=delegationsFromMeDataFn options=delegationsFromMeOptionsFn}}
      <button class="js-new btn-primary">{{_ 'createNew'}}</button>
      <!-- voting power -->
      <div class="row margined-row">
        <div class="col-xs-12 left-padded text-center">
          <p>{{_ 'Your voting power'}}:
            {{currentUser.totalOwnedUnits (fromSession 'activeCommunityId')}} {{_ 'from own voting units'}},
            {{currentUser.totalDelegatedToMeUnits (fromSession 'activeCommunityId')}} {{_ 'from delegated voting units'}}.
            <span style="{ font-weight: bold; }">{{_ 'In total'}}: {{currentUser.totalVotingPower (fromSession 'activeCommunityId')}}
            </span>
          </p>
        </div>
      </div>
      </div>
    {{/Collapse_section}}

    {{#Collapse_section id='to-me' title='Delegations to me' }}
      <!-- some instruction for the users -->
      <div class="white-box">
      <div class="row margined-row">
        <div class="col-xs-12 left-padded text-center">
          <p>{{_ 'delegationsToMeInstructions'}}
          {{_ 'delegationsToMeInstructions2'}}</p>
          <form>
            <input type="checkbox" name="allow" id="allow">
            <label for="allow">{{_ 'allowDelegationsToMe'}}</label>
          </form>
        </div>
      </div>
      <br>
      {{> ReactiveDatatable tableData=delegationsToMeDataFn options=delegationsToMeOptionsFn}}
      <br>
      <!-- voting power -->
      <div class="row margined-row">
        <div class="col-xs-12 left-padded text-center">
          <p>{{_ 'Your voting power'}}:
            {{currentUser.totalOwnedUnits (fromSession 'activeCommunityId')}} {{_ 'from own voting units'}},
            {{currentUser.totalDelegatedToMeUnits (fromSession 'activeCommunityId')}} {{_ 'from delegated voting units'}}.
            <span style="{ font-weight: bold; }">{{_ 'In total'}}: {{currentUser.totalVotingPower (fromSession 'activeCommunityId')}}
            </span>
          </p>
        </div>
      </div>
      </div>
    {{/Collapse_section}}

  </div>
</template>

<!--template name="User_delegations">
  <div class="content-scrollable page-content">
    <h1 class="page-title">{{_ 'Delegations'}}</h1>
    <h2 class="page-title">{{_ 'Delegations from less specific to more specific'}}</h2>
    {{#each scope in delegationScopes}}
      <h3 class="page-title">{{_ scope}} {{_ 'issues'}}:</h3>
      {{> ReactiveDatatable tableData=(reactiveDelegationsDataFn scope) options=optionsFn}}
    {{/each}}
  </div>
</template-->
